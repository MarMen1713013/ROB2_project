\documentclass[11pt]{beamer}
\usetheme{CambridgeUS}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{xcolor}
\newcommand{\todo}{\textcolor{red}{\textbf{TODO:}}}
\newcommand{\dof}[1]{\begin{itemize}
\item[-]\textcolor{blue}{\textbf{#1 DOFs}}
\end{itemize}}

\author[Stefano, Marco]{Stefano De Filippis \& Marco Menchetti}
\title[ROB2 project]{Task priority assignment with collision avoidance}
%\setbeamercovered{transparent} 
%\setbeamertemplate{navigation symbols}{} 
\logo{\includegraphics[scale=.1]{./images/logo.jpeg}}
\institute[Sapienza]{Sapienza - University of Rome} 
\date{} 
\subject{Robotics II} 
\begin{document}

\begin{frame}
\titlepage
\end{frame}

%\begin{frame}
%\tableofcontents
%\end{frame}

\begin{frame}{Why priority?}
\begin{itemize}
\item Decomposition of problems in many tasks.
\item Most problems \textcolor{red}{can't} be solved by just one task.
\item Error is kept on the tasks that \textcolor{red}{can't} be executed	\textbf{EXACTLY} 
\item More natural and smoother behavior.
\end{itemize}
\end{frame}

\begin{frame}{Collision avoidance. How?}
\begin{columns}
\begin{column}{.5\textwidth}
\begin{block}{1. Control points}
We push constantly the control point away from the obstacle so as to be sure they will never get in contact!
\textbf{\textcolor{red}{How do we handle priority?}}
\begin{itemize}
\item When the control point is too near the priority lowers (i.e. becomes more important)
\item As soon as the distance exit the \emph{dangerous} region the priority rise again
\end{itemize}
\end{block}
\end{column}
\begin{column}{.5\textwidth}
\todo Figure of the KUKA and its control points
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Collision avoidance. How?}
\begin{columns}
\begin{column}{.5\textwidth}
\begin{block}{2. How do we push?}
We change approach whether the control point is on the e-e or on the structure:
\begin{itemize}
\item For the end-effector we add a cartesian velocity pointing away from the obstacle
\item For the structure we add a velocity on the rotation plane of the joint \todo fix
\end{itemize}
\end{block}
\end{column}
\begin{column}{.5\textwidth}
\todo figure of the repulsive velocity
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Tasks}
We know why to prioritize Tasks, but which are the ones we are going to use?
\begin{itemize}
\item[\textbf{1}] A cartesian positioning task (i.e. we want our e-e to behave in a certain way)
\dof{2}
\item[\textbf{2}] An orientation task used to simulate any kind of auxiliary task
\dof{2}
\item[\textbf{3,4}] Two collision avoidance task, each one on 1 DOF
\dof{2}
\end{itemize}
In the end we saturated all the 7 DOFs of the manipulator.
\end{frame}

\begin{frame}{Task 1: Cartesian positioning}
\begin{columns}
\begin{column}{.5\textwidth}
Cartesian positioning means we want the end effector to execute a given trajectory \{\todo check timing law \} in $\Bbb R^3$.

\begin{block}{Path used:}
\begin{itemize}
\item A linear path
\item A circular path 
\end{itemize}
\end{block}

The associated jacobian $J_1$ is the analytical jacobian of the direct kinematics.
\end{column}
\begin{column}{.5\textwidth}
\todo pic
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Task 1: Collision avoidance}
\begin{columns}
\begin{column}{.5\textwidth}
\begin{itemize}
\item We have \textbf{7} tasks and we can't add more. How is it performed?
\end{itemize}
\begin{block}{IDEA:}
Add another velocity to the desired one, pointing away from the obstacle! 
\end{block}
\begin{itemize}
\item In this way the \emph{Flacco Matrix} will handle the \textcolor{red}{exact} joint velocities so as to execute the \textcolor{red}{sum} of the two.
\item This won't change the jacobian of the task.
\end{itemize}
\end{column}
\begin{column}{.5\textwidth}
\todo pic
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Task 2: Link orientation}
The orientation task tries to keep constant the orientation of the \todo link axis and it can be defined as follows \todo check:
\end{frame}

\begin{frame}{Tasks 3,4: Collision avoidance control points}
In order to 
\end{frame}

\begin{frame}{Code}

\end{frame}

\begin{frame}{Results}

\end{frame}

\end{document}